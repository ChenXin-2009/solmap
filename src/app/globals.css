@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* ===== 全局可调字体粗细参数（你可以在这里调试不同位置的字重） ===== */
  --font-weight-body: 400;      /* 页面正文、普通文本 */
  --font-weight-title: 600;     /* 标题/重要文本 */
  --font-weight-label: 700;     /* 行星/太阳标签 */
  --font-weight-mono: 500;      /* 等宽数字（时间显示等） */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* 覆盖 Tailwind 的等宽字体类，让顶栏时间等使用思源宋体 CN + 等宽权重 */
.font-mono {
  font-family: 'SourceHanSerifCN', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-weight: var(--font-weight-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  /* 全站默认使用思源宋体可变字体 */
  font-family: 'SourceHanSerifCN', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-weight: var(--font-weight-body);
  /* 允许触摸操作但防止页面滚动 */
  touch-action: manipulation;
  -ms-touch-action: manipulation;
  overflow: hidden;
}

/* 允许触摸操作但防止页面滚动 */
html {
  touch-action: manipulation;
  -ms-touch-action: manipulation;
  overflow: hidden;
  width: 100%;
  height: 100%;
  /* 使用 dvh 单位适配移动端动态视口高度 */
  height: 100dvh;
}

/* 修复移动端视口高度问题 */
html, body {
  /* 使用 dvh (dynamic viewport height) 适配移动端 */
  /* 回退到 100vh 用于不支持 dvh 的浏览器 */
  height: 100vh;
  height: 100dvh;
  max-height: 100vh;
  max-height: 100dvh;
}

/* 日期输入框样式 - 修复 Windows 上日历图标黑色的问题 */
input[type="date"].date-input-white {
  color: white;
  color-scheme: dark;
}

input[type="date"].date-input-white::-webkit-calendar-picker-indicator {
  filter: invert(1);
  cursor: pointer;
}

input[type="date"].date-input-white::-webkit-inner-spin-button,
input[type="date"].date-input-white::-webkit-clear-button {
  filter: invert(1);
}

/* 思源宋体 CN 可变字体（支持粗细调节） */
@font-face {
  font-family: 'SourceHanSerifCN';
  src: url('/fonts/SourceHanSerifCN-VF.otf.woff2') format('woff2-variations');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

/* 淡入动画 */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
